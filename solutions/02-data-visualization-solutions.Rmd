---
title: "Data Visualization Solutions"
output: github_document
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

The following five questions are based on concepts covered in [Chapter 3 of R4DS][Grolemund and Wickham 2017, 3]. They can be answered using the `mpg` dataset from the `ggplot2` package. Start by loading the `tidyverse` package, which includes `ggplot2`.

```{r load-packages, warning = FALSE, message = FALSE}
library(tidyverse)
```

Run `?mpg` in the console to familiarize yourself with the dataset.

--- 

**Question 1**: Run `ggplot(data = mpg)`. What do you see?  

This question is [3.2.4#1][Grolemund and Wickham 2017, 3.2.4 Exercises]. It is designed to get you thinking about visualizations with [`ggplot()`][Grolemund and Wickham 2017, 3.2.2] from the ground (i.e., canvas) up.

**Answer**:

An empty graph, appearing as a grey box in the Plots tab of RStudio. Think of this graph as a blank canvas that you can use as a foundation for plots. Running `ggplot()` renders the same blank, grey box.

```{r Q1}
ggplot(data = mpg)
```
 
---

**Question 2**: Make a scatterplot of `cyl` vs `displ`, then make a boxplot with the same variables. What additional information does the boxplot convey? 

**Hint:** Use `as.factor(cyl)` while specifying the boxplot.  

This question is based on [3.2.4#4][Grolemund and Wickham 2017, 3.2.4 Exercises]. It is designed to strengthen your ability to plot a continuous variable by a categorical variable.

**Answer**:

While the scatterplot shows that there is a positive relationship between cylinders and engine displacement, the boxplots display this relationship in greater detail with medians, interquartile ranges, and outlier points. In particular, the medians and non-overlapping interquartile ranges make the relationship quite obvious. The medians roughly show that for every two cylinders, engine displacement increases by 1.5 (i.e., `cyl` == 4 has `disp` = ~2, `cyl` == 6 has `disp` = ~3.5, and `cyl` == 8 has `disp` = ~5).

```{r Q2}
ggplot(data = mpg, aes(x = cyl, y = displ)) + 
  geom_point()

ggplot(data = mpg, aes(x = as.factor(cyl), y = displ)) + 
  geom_boxplot()
```
 
---

**Question 3**: What happens if you make a scatterplot of `class` vs `drv`? Why is the plot not useful? Create an alternative visualization that displays the data more effectively.

**Hint:** Use `geom_bar()` with `position = "fill"`. `geom_bar()` is covered in [Section 3.8][Grolemund and Wickham 2017, 3.8].  

This question is based on [3.2.4#5][Grolemund and Wickham 2017, 3.2.4 Exercises]. It is designed to strengthen your ability to plot the joint distribution of two categorical variables.

**Answer**:

The scatterplot of `class` vs `drv` plots many observations in the same (x, y) coordinate space, so it is difficult to gauge the proportion of observations for each combination. The bar chart conveys this information much more effectively.

```{r Q3}
ggplot(mpg, aes(x = class, y = drv)) +
  geom_point()

ggplot(mpg) +
  geom_bar(mapping = aes(x = class, fill = drv), position = "fill")
```  

---

**Question 4**: What geom would you use to draw:

 - A line chart? 
 - A boxplot?
 - A histogram?
 - An area chart? 
 
This question is [3.6.1#1][Grolemund and Wickham 2017, 3.6.1 Exercises]. It is designed to strengthen your knowledege of the various [`ggplot()` geom objects][Grolemund and Wickham 2017, 3.6].

**Answer**:

 - `geom_line()`  
 - `geom_boxplot()`  
 - `geom_histogram()`  
 - `geom_area()` or `geom_bar()`
 
---

**Question 5**: Will these two graphs look different? Why/why not?

```{r Q5, eval = FALSE}
ggplot(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_point() + 
  geom_smooth()

ggplot() + 
  geom_point(data = mpg, mapping = aes(x = displ, y = hwy)) + 
  geom_smooth(data = mpg, mapping = aes(x = displ, y = hwy))
```

This question is [3.6.1#5][Grolemund and Wickham 2017, 3.6.1 Exercises]. It is designed to strengthen your understanding of inheritence with respect to the [`ggplot()`][Grolemund and Wickham 2017, 3.2.2] `mapping` argument.

**Answer**:

The graphs will be identical, although the first is more efficient. It enters the `data` and `mapping` arguments into the global `ggplot()` function, whereas the second enters them into the `geom_point()` and `geom_smooth()` layers separately. Geometric objects inherit the `mapping` argument from the `ggplot()` command if it is specified. This example illustrates an important point: objects can have different mappings, which allows for a great deal of flexibility across layers in visualizations.

[Grolemund and Wickham 2017, 3]: http://r4ds.had.co.nz/data-visualisation.html
[Grolemund and Wickham 2017, 3.2.2]: http://r4ds.had.co.nz/data-visualisation.html#creating-a-ggplot
[Grolemund and Wickham 2017, 3.2.4 Exercises]: http://r4ds.had.co.nz/data-visualisation.html#exercises
[Grolemund and Wickham 2017, 3.6]: http://r4ds.had.co.nz/data-visualisation.html#geometric-objects
[Grolemund and Wickham 2017, 3.6.1 Exercises]: http://r4ds.had.co.nz/data-visualisation.html#exercises-3
[Grolemund and Wickham 2017, 3.8]: http://r4ds.had.co.nz/data-visualisation.html#position-adjustments